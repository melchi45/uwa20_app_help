<div class="wrapper wrapper-content" ng-if="pageLoaded">
    <form class="form-horizontal" method="get" name="appEventForm" novalidate="">
        <wn5-setup-main-title
            data-title="lang_menu_appevent">
        </wn5-setup-main-title>
        <div class="wn5-setup-section">
            <hr class="wn5-setup-hr">
            <div class="wn5-setup-section-heading">
                <h3>
                    {{ 'lang_menu_appevent' | translate }}
                </h3>
            </div>
            <div class="wn5-setup-section-article form-group">
                <div class="wn5-setup-section-article-heading">
                    {{ 'lang_menu_appevent' | translate }}
                </div>
                <div class="wn5-setup-section-article-content">
                    <input name="Enable" ng-model="$parent.EventRule.Enable" ng-value="Enable" type="checkbox">
                    <label>{{ 'lang_enable' | translate }}</label>
                </div>
            </div>
        </div>
        <div class="wn5-setup-section">
            <hr class="wn5-setup-hr">
            <div class="wn5-setup-section-heading">
                <h3>
                    {{ 'lang_eventActionSetup' | translate }}
                </h3>
            </div>
            <div class="wn5-setup-section-article">
                <div class="form-group" ng-if="EventActions.indexOf('FTP') !== -1">
                    <div class="wn5-setup-section-article-heading">
                        FTP
                    </div>
                    <div class="wn5-setup-section-article-content">
                        <input ng-model="EventRule.FtpEnable" type="checkbox">
                            <label>
                                {{'lang_enable' | translate}}
                            </label>
                        </input>
                    </div>
                </div>
                <div class="form-group" ng-if="EventActions.indexOf('SMTP') !== -1">
                    <div class="wn5-setup-section-article-heading">
                        {{ 'lang_email' | translate }}
                    </div>
                    <div class="wn5-setup-section-article-content">
                        <input ng-model="EventRule.SmtpEnable" type="checkbox">
                            <label>
                                {{'lang_enable' | translate}}
                            </label>
                        </input>
                    </div>
                </div>
                <div class="form-group" ng-if="EventActions.indexOf('Record') !== -1">
                    <div class="wn5-setup-section-article-heading">
                        {{ 'lang_record' | translate }}
                    </div>
                    <div class="wn5-setup-section-article-content">
                        <input ng-model="EventRule.RecordEnable" type="checkbox">
                            <label>
                                {{'lang_enable' | translate}}
                            </label>
                        </input>
                    </div>
                </div>
                <div class="form-group" ng-if="EventActions.indexOf('AlarmOutput') !== -1" ng-repeat="n in getAlarmOutArray">
                    <div class="wn5-setup-section-article-heading">
                        {{ 'lang_alarmOutput' | translate }} {{n + 1}}
                    </div>
                    <div class="wn5-setup-section-article-content">
                        <select class="form-control" ng-model="EventRule.AlarmOutputs[n].Duration">
                            <option ng-repeat="Duration in AlarmoutDurationOptions" ng-selected="EventRule.AlarmOutputs[n].Duration == Duration" value="{{Duration}}">
                                {{getTranslatedOption(Duration)}}
                            </option>
                        </select>
                    </div>
                </div>
                <div class="form-group" ng-if="EventActions.indexOf('GoToPreset') !== -1">
                    <div class="wn5-setup-section-article-heading">
                        {{ 'lang_gotoPreset' | translate }}
                    </div>
                    <div class="wn5-setup-section-article-content">
                        <select class="form-control" ng-model="EventRule.PresetNumber">
                            <option ng-repeat="Preset in PresetOptions" ng-selected="EventRule.PresetNumber == Preset" value="{{Preset}}">
                                {{getTranslatedOption(Preset)}}
                            </option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        <div class="wn5-setup-section">
            <hr class="wn5-setup-hr">
            <div class="wn5-setup-section-heading">
                <h3>
                    {{ 'lang_activation_time' | translate }}
                </h3>
            </div>
            <div class="wn5-setup-section-article form-group">
                <div class="wn5-setup-section-article-content">
                    <div ng-class="RadioClassLg" ng-repeat="Activate in ActivateOptions">
                        {{getTranslatedOption(Activate)}}
                        <input class="radio" name="Activate" ng-model="$parent.EventRule.ScheduleType" ng-value="Activate" type="radio"/>
                    </div>
                </div>
            </div>
        </div>
<!--                         <div ng-if="EventRule.ScheduleType === ActivateOptions[0]" ng-show="false">
            <table border="1" id="ScheduleTable" style="text-align:center" width="100%">
                <div align="right">
                    <button class="btn btn-primary" ng-click="clearAll()" type="button">
                        {{ 'lang_clear' | translate }}
                    </button>
                </div>
                <thead>
                    <tr bgcolor="#f2f2f2" height="35">
                        <th width="100">
                        </th>
                        <th ng-repeat="n in getHourArray" style="text-align:center;color:DarkGray" width="50">
                            {{n}}
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr height="40" ng-repeat="Day in WeekDays">
                        <th bgcolor="#f2f2f2" style="text-align:center;color:DarkGray">
                            {{ Day | translate}}
                        </th>
                        <td ng-class="setColor(Day, n, true)" ng-repeat="n in getHourArray">
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div ng-if="EventRule.ScheduleType === ActivateOptions[1]">
            <table border="1" drag-select="" drag-select-ids="EventRule.ScheduleIds" id="ScheduleTable" open-time-setup="open" style="text-align:center" width="100%">
                <div align="right">
                    <button class="btn btn-primary" ng-click="clearAll()" type="button">
                        {{ 'lang_clear' | translate }}
                    </button>
                </div>
                <thead>
                    <tr bgcolor="#e6e6e6" height="35">
                        <th width="100">
                        </th>
                        <th ng-repeat="n in getHourArray" style="text-align:center;color:DimGray" width="50">
                            {{n}}
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr height="40" ng-repeat="Day in WeekDays">
                        <th bgcolor="#e6e6e6" style="text-align:center;color:DimGray">
                            {{ Day | translate}}
                        </th>
                        <td data-placement="bottom" id="{{Day}}.{{n}}" ng-class="setColor(Day, n)" ng-mouseleave="mouseLeave()" ng-mouseover="mouseOver(Day, n)" ng-repeat="n in getHourArray" title="{{getTooltipMessage()}}">
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="labelMinutesHour" ng-show="EventRule.ScheduleType==='Scheduled'" style="float:right; margin-top:5px;">
            <table border="0" cellpadding="0" cellspacing="0" style="text-align:right" width="100%">
                <tbody>
                    <tr>
                        <td>
                            <a class="setMinite scheduleColorInfo">
                            </a>
                            <span style="color:black;font-size:12px">
                                {{ 'lang_minutes' | translate }}
                            </span>
                        </td>
                        <td>
                            <a class="setHour scheduleColorInfo">
                            </a>
                            <span style="color:black;font-size:12px">
                                {{ 'lang_Hour' | translate }}
                            </span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div> -->

        <scheduler></scheduler>
        <hr class="wn5-setup-hr">
        <wn5-setup-common-button
            data-submit-click="submit()"
            data-cancel-click="view(0)">
        </wn5-setup-common-button>
    </form>
</div>