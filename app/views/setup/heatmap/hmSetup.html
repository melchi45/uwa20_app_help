<div class="wrapper wrapper-content" ng-show="pageLoaded">
    <wn5-setup-main-title
        data-title="lang_setup">
    </wn5-setup-main-title>
    <hr class="wn5-setup-hr">

    <div class="wn5-setup-section">
        <div class="wn5-gui-body-large">
            <input type="checkbox" ng-model="useHeatmap" ng-click="submitEnable()">
            <label>{{ 'Enable heatmap' | translate }}</label>
        </div>
    </div>

    <div class="wn5-setup-tab">
        <ul class="wn5-setup-tab-list">
            <li class="wn5-setup-tab-item">
                <button 
                    ng-class="{'active': currentTapStatus[0] === true }"
                    ng-click="changeTabStatus(0)" 
                    type="button">
                    {{'lang_configuration' | translate}}
                </button>
            </li>
            <li class="wn5-setup-tab-item">
                <button 
                    ng-class="{'active': currentTapStatus[1] === true }"
                    ng-click="changeTabStatus(1)" 
                    type="button">
                    {{'lang_excluded_area' | translate}}
                </button>
            </li>
        </ul>
        <div class="wn5-setup-tab-content wn5-setup-tab-content-use-padding">
            <div class="hm-setup-overlay-heatmap" ng-show="currentTapStatus[0] === true">
                <img src="" ng-show="configurationSection.enableHeatMap">
            </div>

            <sketchbook 
                class="wn5-setup-preview-video"
                coordinates="coordinates" 
                sketchinfo="sketchinfo" 
                videoinfo="videoinfo">
            </sketchbook>

            <div class="wn5-setup-preview-table">
                <section class="form-group" ng-if="currentTapStatus[1] === true">
                    <div class="wn5-setup-preview-heading">
                        {{'lang_area'|translate}}
                    </div>
                    <div class="wn5-setup-preview-content">
                        <button 
                            type="button"
                            ng-click="excludeAreaSection.select($index)"
                            ng-class="{'wn5-btn-hover': excludeArea.isEnable === true, 'wn5-btn-active': excludeArea.isSelected === true && excludeArea.isEnable === true}"
                            ng-disabled="excludeArea.isEnable === undefined"
                            class="btn wn5-btn btn-margin-right wn5-btn-small-square"
                            ng-repeat="excludeArea in excludeAreaSection.data track by $index">
                            {{$index + 1}}
                        </button>
                    </div>
                </section>
            </div>
        </div>
    </div>
    
    <hr class="wn5-setup-hr">

    <!-- 
    pcSetupReport Directive uses its parent scope.
    scope.pcSetupReport of pcSetupReport Directive is used in parent Controller.
    -->
    <pc-setup-report page-type="hm"></pc-setup-report>

    <hr class="wn5-setup-hr">

    <div class="pc-n-hm-delete-data">
        <wn5-setup-common-button
            data-submit-click="submit()"
            data-cancel-click="view()">
        </wn5-setup-common-button>

        <!-- 
        pcCameraManagement Directive uses its parent scope.
        scope.pcCameraManagement of pcCameraManagement Directive is used in parent Controller.
        -->
        <pc-camera-management page-type="hm"></pc-camera-management>
    </div>
</div>